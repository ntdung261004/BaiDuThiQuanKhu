/* static/css/session_details.css */

/* Định dạng chung */
#page-content-wrapper .card-header.fw-bold {
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
}
#page-content-wrapper .card-body {
    padding: 0.8rem;
}
#page-content-wrapper .list-group-item {
    padding: 0.5rem 0.8rem;
    font-size: 0.85rem;
    background-color: transparent;
    border: none;
}
#page-content-wrapper .fs-4 {
    font-size: 1.15rem !important;
}

/* Khung video livestream */
.video-container-session {
    position: relative;
    width: 100%;
    padding-top: 133.33%; /* Tỷ lệ 4:3 dọc */
    background-color: #000;
    border-radius: 0.25rem;
    overflow: hidden;
}
.video-container-session #video-feed,
.video-container-session #status-message {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
}
.video-container-session #status-message {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: rgba(0,0,0,0.7);
    color: #fff;
}

/* Khung ảnh kết quả */
.target-img-container-session {
    position: relative;
    width: auto;
    border: 1px solid #dee2e6;
    background-color: #f8f9fa;
    border-radius: 0.25rem;
    overflow: hidden;
}

.target-img-container-session img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

/* <<< SỬA ĐỔI QUAN TRỌNG TẠI ĐÂY >>> */

/* Danh sách xạ thủ - Cố định chiều cao và cho phép cuộn */
.shooter-list-scroll {
    /* (font-size * line-height + padding-top + padding-bottom) * 5 items */
    height: 10rem; 
    overflow-y: auto; /* Tự động hiện thanh cuộn khi cần */
}

#page-content-wrapper .shooter-list-scroll .list-group-item.active {
    background-color: var(--bs-primary);
    color: white !important;
    border-color: var(--bs-primary);
}

/* Khung lịch sử bắn - Cố định chiều cao và cho phép cuộn */
.shot-status-scroll {
    height: 120px; /* Chiều cao cố định */
    overflow-y: auto;
    font-size: 0.8rem;
}
.shot-status-scroll p {
    margin-bottom: 0.3rem;
    padding-bottom: 0.3rem;
    border-bottom: 1px solid #eee;
}
.shot-status-scroll p:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

/* --- SỬA LỖI KHUNG ẢNH KẾT QUẢ BẮN (V2) --- */

/* 1. Bắt buộc card-body phải tuân thủ layout flex và không bị tràn */
.card-body.d-flex.flex-column {
    overflow: hidden;
    height: 100%; /* Đảm bảo card-body có chiều cao xác định */
}

/* 2. Thiết lập hành vi cho KHUNG CHỨA ẢNH */
.target-img-container-session {
    /* Ra lệnh cho khung này chiếm hết không gian dọc còn lại */
    flex-grow: 1;

    /* QUAN TRỌNG: Đây là "thủ thuật" để khắc phục lỗi.
       Nó ngăn nội dung (ảnh) có kích thước lớn tự ý kéo dãn khung chứa nó. */
    min-height: 0;

    /* Dùng flexbox để căn giữa ảnh bên trong */
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #212529; /* Nền tối để ảnh nổi bật hơn */
    border-radius: .25rem;
    padding: 0.25rem;
}

/* 3. Ra lệnh cho ẢNH phải nằm gọn bên trong khung chứa */
#target-image {
    /* Đặt kích thước tối đa là 100% của khung chứa */
    max-width: 100%;
    max-height: 100%;

    /* QUAN TRỌNG NHẤT: Giữ nguyên tỷ lệ ảnh và thu nhỏ cho vừa khung */
    object-fit: contain;
}